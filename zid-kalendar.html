<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>≈Ωidovsk√Ω kalend√°≈ô - Haifa Edition</title>
    <style>
        :root {
            --bg: #0f0a1a;
            --card: #2e1a47; 
            --accent: #bb86fc;
            --text: #ffffff;
            --muted: #d1c4e9;
        }
        body {
            font-family: 'Segoe UI', Roboto, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 15px;
        }
        #q-cont {
            width: 100%;
            max-width: 550px;
            background: var(--card);
            border: 3px solid var(--accent);
            border-radius: 35px;
            padding: 35px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.7);
            text-align: center;
        }
        .header { font-size: 0.9em; letter-spacing: 3px; text-transform: uppercase; color: var(--accent); margin-bottom: 5px; }
        .jom-tyden { font-size: 1.7em; font-weight: 300; margin-bottom: 20px; opacity: 0.8; }
        .hebrew-date { font-size: clamp(2em, 8vw, 2.8em); font-weight: 800; margin: 10px 0; line-height: 1.1; }
        .hebrew-script { font-size: 2em; color: var(--accent); margin-bottom: 20px; font-family: 'Times New Roman', serif; }
        
        .section-label { font-size: 1.1em; color: var(--accent); font-weight: bold; margin-top: 25px; display: block; }
        .detail-text { font-size: 1.3em; line-height: 1.5; color: var(--muted); font-style: italic; margin-top: 5px; }
        
        .parasha-link { color: var(--accent); text-decoration: none; border-bottom: 1px dashed var(--accent); }

        .explanation { 
            margin-top: 30px; 
            padding: 20px; 
            border: 1px solid rgba(187, 134, 252, 0.3);
            border-radius: 20px;
            color: var(--accent);
            font-size: 1.1em;
            line-height: 1.4;
            background: rgba(0,0,0,0.2);
        }

        .msg-label { display: block; margin-top: 25px; font-size: 0.9em; color: var(--accent); text-align: left; margin-left: 10px; }
        #custom-msg {
            width: 100%;
            background: rgba(15, 10, 26, 0.5);
            border: 1px solid var(--accent);
            border-radius: 15px;
            color: white;
            padding: 12px;
            font-family: inherit;
            font-size: 1em;
            margin-top: 5px;
            resize: none;
            box-sizing: border-box;
        }

        .share-btn {
            margin-top: 25px;
            background: var(--accent);
            color: #0f0a1a;
            border: none;
            padding: 20px;
            border-radius: 50px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
        }
    </style>
</head>
<body>

    <div id="q-cont">
        <div class="header">≈Ωidovsk√Ω kalend√°≈ô</div>
        <div class="jom-tyden" id="jom-txt">Naƒç√≠t√°m...</div>
        
        <div class="hebrew-date" id="h-date-txt">--. -- 5786</div>
        <div class="hebrew-script" id="h-script-txt">-- ◊ë÷¥÷º◊©÷∞◊Å◊ë÷∏◊ò --</div>
        
        <span class="section-label">üìñ Para≈°at Ha≈†avua:</span>
        <div class="detail-text">
            <a href="https://www.sefaria.org.il/topics/torah-portions?sort=Relevance&tab=sources" target="_blank" class="parasha-link" id="parasha-txt">
                Naƒç√≠t√°m para≈°u...
            </a>
        </div>
        
        <span class="section-label">‚ú® Sv√°tek / Ud√°lost:</span>
        <div class="detail-text" id="event-txt">Dnes nen√≠ ≈æ√°dn√Ω v√Ωznamn√Ω sv√°tek.</div>
        
        <div class="explanation" id="expl-txt">
            Nov√Ω den zaƒç√≠n√° s v√Ωchodem prvn√≠ hvƒõzdy a veƒçer tedy zaƒç√≠n√° ji≈æ nov√Ω den.
        </div>

        <label class="msg-label">‚úçÔ∏è Tv≈Øj vzkaz k odesl√°n√≠:</label>
        <textarea id="custom-msg" rows="2">Pos√≠l√°m pozdravy z Haify! üáÆüá±üá®üáø</textarea>
        
        <button class="share-btn" onclick="shareJewishDay()">Sd√≠let datum üáÆüá±</button>
    </div>

    <script>
        const parashot = {
            "7.2.2026": "Be-≈°alach (◊ë÷∞÷º◊©÷∑◊Å◊ú÷∑÷º◊ó)",
            "14.2.2026": "Jitro (◊ô÷¥◊™÷∞◊®◊ï÷π)",
            "21.2.2026": "Mi≈°patim (◊û÷¥◊©÷∞◊Å◊§÷∏÷º◊ò÷¥◊ô◊ù)",
            "28.2.2026": "Teruma (◊™÷∞÷º◊®◊ï÷ºM÷∏◊î)",
            "7.3.2026": "Teca-ve (◊™÷∞÷º◊¶÷∑◊ï÷∂÷º◊î)",
            "14.3.2026": "Ki tisa (◊õ÷¥÷º◊ô ◊™÷¥◊©ƒÅ◊ê)",
            "21.3.2026": "Vajakhel-Pekudej (◊ï÷∑◊ô÷∑÷º◊ß÷∞◊î÷µ◊ú-◊§÷∞◊ß◊ï÷º◊ì÷µ◊ô)",
            "28.3.2026": "Vajikra (◊ï÷∑◊ô÷¥÷º◊ß÷∞◊®÷∏◊ê)"
        };

        const dnyHeCz = ["Jom ri≈°on (Nedƒõle)", "Jom ≈°eni (Pondƒõl√≠)", "Jom ≈°li≈°i (√öter√Ω)", "Jom revi'i (St≈ôeda)", "Jom chami≈°i (ƒåtvrtek)", "Jom ≈°i≈°i (P√°tek)", "≈†abat (Sobota / ≈†√°bes)"];
        const mesHeCz = {"Shevat":"≈†vat", "Adar I":"Adar I", "Adar II":"Adar II", "Nisan":"Nisan", "Iyar":"Ijar", "Sivan":"Sivan", "Tamuz":"Tamuz", "Av":"Av", "Elul":"Elul", "Tishri":"Ti≈°rej", "Cheshvan":"Che≈°van", "Kislev":"Kislev", "Tevet":"Tevet"};

        function init() {
            try {
                let d = new Date();
                if (d.getHours() >= 18) d.setDate(d.getDate() + 1);

                document.getElementById('jom-txt').innerText = dnyHeCz[d.getDay()];

                // Robustnƒõj≈°√≠ z√≠sk√°n√≠ hebrejsk√©ho data
                const options = { day: 'numeric', month: 'long', year: 'numeric' };
                const hFormat = new Intl.DateTimeFormat('en-u-ca-hebrew', options);
                const hDateParts = hFormat.formatToParts(d);
                
                const hScript = new Intl.DateTimeFormat('he-u-ca-hebrew', options).format(d);
                
                let den = "", mesEn = "", rok = "";
                hDateParts.forEach(p => {
                    if (p.type === 'day') den = p.value;
                    if (p.type === 'month') mesEn = p.value;
                    if (p.type === 'year') rok = p.value;
                });

                document.getElementById('h-date-txt').innerText = den + ". " + (mesHeCz[mesEn] || mesEn) + " " + rok;
                document.getElementById('h-script-txt').innerText = hScript;

                // Para≈°a
                let sabat = new Date(d);
                while(sabat.getDay() !== 6) sabat.setDate(sabat.getDate() + 1);
                const klic = sabat.getDate() + "." + (sabat.getMonth() + 1) + "." + sabat.getFullYear();
                document.getElementById('parasha-txt').innerText = parashot[klic] || "Para≈°a bude doplnƒõna.";

                // Sv√°tek
                const svatky = {"2.2.2026":"Tu Bi-≈°vat (Sv√°tek strom≈Ø) üå≥", "3.3.2026":"P≈Øst Ester", "4.3.2026":"Purim üé≠", "1.4.2026":"Erev Pesach üç∑"};
                const dKlic = d.getDate() + "." + (d.getMonth() + 1) + "." + d.getFullYear();
                document.getElementById('event-txt').innerText = svatky[dKlic] || "Dnes nen√≠ ≈æ√°dn√Ω v√Ωznamn√Ω sv√°tek.";
            } catch (e) {
                console.error(e);
                document.getElementById('jom-txt').innerText = "Chyba naƒç√≠t√°n√≠";
            }
        }

        function shareJewishDay() {
            const jom = document.getElementById('jom-txt').innerText;
            const date = document.getElementById('h-date-txt').innerText;
            const script = document.getElementById('h-script-txt').innerText;
            const parasha = document.getElementById('parasha-txt').innerText;
            const event = document.getElementById('event-txt').innerText;
            const custom = document.getElementById('custom-msg').value;
            
            const msg = `üáÆüá± ≈Ωidovsk√Ω kalend√°≈ô\n\n${jom}\n${date}\n${script}\n\nüìñ Para≈°at Ha≈†avua:\n${parasha}\n\n‚ú® Sv√°tek:\n${event}\n\n${custom}`;
            
            if (navigator.share) {
                navigator.share({ text: msg });
            } else {
                alert(msg);
            }
        }
        window.onload = init;
    </script>
</body>
</html>
