<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Světové jazyky - Vyhledávání a kopírování</title>
    <style>
        :root {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-color: #e0e0e0;
            --accent-color: #FFD700; /* Zlatá */
            --item-height: 60px;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Segoe UI', Roboto, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            height: 100vh;
            margin: 0;
            padding-top: 20px;
            overflow: hidden;
        }

        /* Vyhledávací pole */
        .search-container {
            width: 90%;
            max-width: 320px;
            margin-bottom: 20px;
        }

        #searchInput {
            width: 100%;
            padding: 12px 15px;
            border-radius: 25px;
            border: 1px solid #444;
            background: var(--card-bg);
            color: white;
            font-size: 1rem;
            outline: none;
            box-sizing: border-box;
            transition: border-color 0.3s;
        }

        #searchInput:focus {
            border-color: var(--accent-color);
        }

        /* Kontejner pro karusel */
        .picker-container {
            position: relative;
            height: calc(var(--item-height) * 5);
            width: 320px;
            overflow: hidden;
            mask-image: linear-gradient(to bottom, transparent, black 20%, black 80%, transparent);
            -webkit-mask-image: linear-gradient(to bottom, transparent, black 20%, black 80%, transparent);
        }

        .selection-overlay {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: var(--item-height);
            transform: translateY(-50%);
            border-top: 1px solid rgba(255, 215, 0, 0.3);
            border-bottom: 1px solid rgba(255, 215, 0, 0.3);
            background: rgba(255, 215, 0, 0.05);
            pointer-events: none;
        }

        .wheel {
            height: 100%;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            scrollbar-width: none;
        }

        .wheel::-webkit-scrollbar { display: none; }

        .wheel-content { padding: calc(var(--item-height) * 2) 0; }

        .language-item {
            height: var(--item-height);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            scroll-snap-align: center;
            transition: all 0.2s ease;
            opacity: 0.4;
            transform: scale(0.9);
        }

        .language-item.active {
            opacity: 1;
            transform: scale(1.15);
            color: var(--accent-color);
        }

        .lang-name { font-size: 1.2rem; }
        .lang-code { font-size: 0.8rem; text-transform: uppercase; opacity: 0.7; }

        /* Panel pro kopírování */
        .info-panel {
            margin-top: 20px;
            text-align: center;
            padding: 15px;
            border: 2px dashed #444;
            border-radius: 15px;
            background: var(--card-bg);
            width: 85%;
            max-width: 320px;
            cursor: pointer;
            position: relative;
        }

        .info-panel h2 { margin: 0; color: var(--accent-color); font-size: 1.3rem; }
        .hint { font-size: 0.7rem; color: #666; margin-top: 8px; text-transform: uppercase; }

        .toast {
            position: absolute;
            top: -40px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--accent-color);
            color: #000;
            padding: 4px 12px;
            border-radius: 15px;
            font-weight: bold;
            font-size: 0.8rem;
            opacity: 0;
            transition: 0.3s;
        }

        .toast.show { opacity: 1; top: -50px; }
    </style>
</head>
<body>

    <div class="search-container">
        <input type="text" id="searchInput" placeholder="Hledat jazyk nebo kód...">
    </div>

    <div class="picker-container">
        <div class="selection-overlay"></div>
        <div class="wheel" id="languageWheel">
            <div class="wheel-content" id="wheelContent"></div>
        </div>
    </div>

    <div class="info-panel" id="copyPanel">
        <div id="toast" class="toast">Zkopírováno!</div>
        <h2 id="display-name">---</h2>
        <p>Kód: <span id="display-code">--</span></p>
        <div class="hint">Klepnutím zkopíruješ kód</div>
    </div>

    <script>
        const allLanguages = [
            { code: 'af', name: 'Afrikánština' }, { code: 'sq', name: 'Albánština' }, { code: 'am', name: 'Amharština' },
            { code: 'en', name: 'Angličtina' }, { code: 'ar', name: 'Arabština' }, { code: 'hy', name: 'Arménština' },
            { code: 'az', name: 'Ázerbájdžánština' }, { code: 'bn', name: 'Bengálština' }, { code: 'be', name: 'Běloruština' },
            { code: 'my', name: 'Barmština' }, { code: 'bs', name: 'Bosonština' }, { code: 'bg', name: 'Bulharština' },
            { code: 'cs', name: 'Čeština' }, { code: 'zh', name: 'Čínština' }, { code: 'da', name: 'Dánština' },
            { code: 'et', name: 'Estonština' }, { code: 'fo', name: 'Faerština' }, { code: 'tl', name: 'Filipínština' },
            { code: 'fi', name: 'Finština' }, { code: 'fr', name: 'Francouzština' }, { code: 'ka', name: 'Gruzínština' },
            { code: 'gu', name: 'Gudžarátština' }, { code: 'he', name: 'Hebrejština' }, { code: 'hi', name: 'Hindština' },
            { code: 'nl', name: 'Holandština' }, { code: 'hr', name: 'Chorvatština' }, { code: 'id', name: 'Indonéština' },
            { code: 'is', name: 'Islandština' }, { code: 'it', name: 'Italština' }, { code: 'ja', name: 'Japonština' },
            { code: 'kn', name: 'Kannadština' }, { code: 'kk', name: 'Kazaština' }, { code: 'km', name: 'Khmérština' },
            { code: 'ko', name: 'Korejština' }, { code: 'lo', name: 'Laoština' }, { code: 'lt', name: 'Litevština' },
            { code: 'lv', name: 'Lotyština' }, { code: 'hu', name: 'Maďarština' }, { code: 'mk', name: 'Makedonština' },
            { code: 'ms', name: 'Malajština' }, { code: 'ml', name: 'Malajálamština' }, { code: 'mt', name: 'Maltština' },
            { code: 'mr', name: 'Maráthština' }, { code: 'mn', name: 'Mongolština' }, { code: 'de', name: 'Němčina' },
            { code: 'ne', name: 'Nepálština' }, { code: 'no', name: 'Norština' }, { code: 'pa', name: 'Paňdžábština' },
            { code: 'fa', name: 'Perština' }, { code: 'pl', name: 'Polština' }, { code: 'pt', name: 'Portugalština' },
            { code: 'ro', name: 'Rumunština' }, { code: 'ru', name: 'Ruština' }, { code: 'el', name: 'Řečtina' },
            { code: 'sk', name: 'Slovenština' }, { code: 'sl', name: 'Slovinština' }, { code: 'sr', name: 'Srbština' },
            { code: 'es', name: 'Španělština' }, { code: 'sw', name: 'Svahilština' }, { code: 'sv', name: 'Švédština' },
            { code: 'tg', name: 'Tádžičtina' }, { code: 'ta', name: 'Tamilština' }, { code: 'te', name: 'Telugština' },
            { code: 'th', name: 'Thajština' }, { code: 'tr', name: 'Turečtina' }, { code: 'tk', name: 'Turkmenština' },
            { code: 'uk', name: 'Ukrajinština' }, { code: 'ur', name: 'Urdština' }, { code: 'uz', name: 'Uzbečtina' },
            { code: 'vi', name: 'Vietnamština' }, { code: 'zu', name: 'Zuluština' }
        ].sort((a, b) => a.name.localeCompare(b.name, 'cs'));

        const wheelContent = document.getElementById('wheelContent');
        const wheel = document.getElementById('languageWheel');
        const searchInput = document.getElementById('searchInput');
        const displayName = document.getElementById('display-name');
        const displayCode = document.getElementById('display-code');
        const copyPanel = document.getElementById('copyPanel');
        const toast = document.getElementById('toast');

        const itemHeight = 60;
        let currentCode = '';

        // Funkce pro vykreslení seznamu
        function renderList(list) {
            wheelContent.innerHTML = '';
            list.forEach(lang => {
                const div = document.createElement('div');
                div.className = 'language-item';
                div.innerHTML = `<span class="lang-name">${lang.name}</span><span class="lang-code">${lang.code}</span>`;
                div.setAttribute('data-code', lang.code);
                div.setAttribute('data-name', lang.name);
                wheelContent.appendChild(div);
            });
            // Reset pozice po vyhledávání
            wheel.scrollTop = 0;
            updateSelection();
        }

        // Aktualizace výběru na středu
        function updateSelection() {
            const index = Math.round(wheel.scrollTop / itemHeight);
            const items = document.querySelectorAll('.language-item');
            
            items.forEach((item, i) => {
                if (i === index) {
                    item.classList.add('active');
                    currentCode = item.getAttribute('data-code');
                    displayName.textContent = item.getAttribute('data-name');
                    displayCode.textContent = currentCode;
                } else {
                    item.classList.remove('active');
                }
            });
        }

        // Event: Skrolování
        wheel.addEventListener('scroll', updateSelection);

        // Event: Vyhledávání
        searchInput.addEventListener('input', (e) => {
            const term = e.target.value.toLowerCase();
            const filtered = allLanguages.filter(l => 
                l.name.toLowerCase().includes(term) || 
                l.code.toLowerCase().includes(term)
            );
            renderList(filtered);
        });

        // Event: Kopírování
        copyPanel.addEventListener('click', () => {
            if (!currentCode) return;
            navigator.clipboard.writeText(currentCode).then(() => {
                toast.classList.add('show');
                setTimeout(() => toast.classList.remove('show'), 2000);
            });
        });

        // Start na češtině
        window.onload = () => {
            renderList(allLanguages);
            const csIndex = allLanguages.findIndex(l => l.code === 'cs');
            wheel.scrollTop = csIndex * itemHeight;
        };
    </script>
</body>
</html>
